"use strict";class Paint{constructor(t,e,n){this.drawn=!1,this.color="black",this.lineWidth=1,this.canvas=t,this.colorPalette=e,this.lines=n;let i=this.canvas.getContext("2d");if(null==i)throw"Canvas null";this.context=i;let o=this;this.canvas.addEventListener("mousedown",function(t){o.onMouseDown(t)}),this.canvas.addEventListener("mousemove",function(t){o.onMouseMove(t)}),this.canvas.addEventListener("mouseup",function(t){o.onMouseUp(t)});for(let s=0;s<this.colorPalette.length;s++)e[s].addEventListener("click",function(t){let n=e[s].style.backgroundColor;null!=n&&o.changeCurrentColor(n)});for(let l=0;l<this.lines.length;l++)this.lines[l].addEventListener("click",function(t){let e=n[l].getAttribute("lineWidth");null!=e&&o.changeWithLine(parseInt(e));for(let i=0;i<n.length;i++)n[i].classList.remove("active-line");n[l].classList.add("active-line")})}changeWithLine(t){this.lineWidth=t}changeCurrentColor(t){let e=document.getElementById("primary-color");null!=e&&(e.style.backgroundColor=t),this.color=t}onMouseDown(t){var e,n;null===(e=this.context)||void 0===e||e.beginPath(),null===(n=this.context)||void 0===n||n.moveTo(t.clientX-this.canvas.offsetLeft,t.clientY-this.canvas.offsetTop),this.drawn=!0}onMouseMove(t){var e,n;this.drawn&&(null===(e=this.context)||void 0===e||e.lineTo(t.clientX-this.canvas.offsetLeft,t.clientY-this.canvas.offsetTop),this.context.strokeStyle=""+this.color,this.context.lineWidth=this.lineWidth,null===(n=this.context)||void 0===n||n.stroke())}onMouseUp(t){this.drawn=!1}}window.addEventListener("load",()=>{var t;let e=null===(t=document.getElementById("line-option"))||void 0===t?void 0:t.children,n=document.getElementsByClassName("color"),i=document.getElementById("canvas");new Paint(i,n,e)});